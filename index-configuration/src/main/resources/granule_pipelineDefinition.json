{
  "description": "[RELEASE-DATE] Transforms and reduces fields from staging_granule to search_granule",
  "version": 1,
  "processors": [
    {
      "foreach": {
        "field": "keywords",
        "processor": {
          "append": {
            "field": "keywordValues",
            "value": "{{ keywords.values }}"
          }
        }
      }
      "set": {
        "field": "beginDate",
        "value": "{{ temporalBounding.beginDate }}"
      },
      "set": {
        "field": "beginYear",
        "value": "{{ temporalBounding.beginYear }}"
      },
      "set": {
        "field": "endDate",
        "value": "{{ temporalBounding.endDate }}"
      },
      "set": {
        "field": "endYear",
        "value": "{{ temporalBounding.endYear }}"
      },
      "remove": {
        "field": "purpose"
      },
      "remove": {
        "field": "status"
      },
      "remove": {
        "field": "credit"
      },
      "remove": {
        "field": "hierarchyLevelName"
      },
      "remove": {
        "field": "alternateTitle"
      },
      "remove": {
        "field": "keywords"
      },
      "remove": {
        "field": "gcmdScience"
      },
      "remove": {
        "field": "gcmdScienceServices"
      },
      "remove": {
        "field": "gcmdLocations"
      },
      "remove": {
        "field": "gcmdInstruments"
      },
      "remove": {
        "field": "gcmdPlatforms"
      },
      "remove": {
        "field": "gcmdProjects"
      },
      "remove": {
        "field": "gcmdDataCenters"
      },
      "remove": {
        "field": "gcmdHorizontalResolution"
      },
      "remove": {
        "field": "gcmdVerticalResolution"
      },
      "remove": {
        "field": "gcmdTemporalResolution"
      },
      "remove": {
        "field": "accessionValues"
      },
      "remove": {
        "field": "topicCategories"
      },
      "remove": {
        "field": "temporalBounding"
      },
      "remove": {
        "field": "acquisitionInstruments"
      },
      "remove": {
        "field": "acquisitionOperations"
      },
      "remove": {
        "field": "acquisitionPlatforms"
      },
      "remove": {
        "field": "contacts"
      },
      "remove": {
        "field": "creators"
      },
      "remove": {
        "field": "publishers"
      },
      "remove": {
        "field": "thumbnailDescription"
      },
      "remove": {
        "field": "creationDate"
      },
      "remove": {
        "field": "revisionDate"
      },
      "remove": {
        "field": "publicationDate"
      },
      "remove": {
        "field": "crossReferences"
      },
      "remove": {
        "field": "largerWorks"
      },
      "remove": {
        "field": "useLimitation"
      },
      "remove": {
        "field": "legalConstraints"
      },
      "remove": {
        "field": "accessFeeStatement"
      },
      "remove": {
        "field": "orderingInstructions"
      },
      "remove": {
        "field": "edition"
      },
      "remove": {
        "field": "dsmmAccessibility"
      },
      "remove": {
        "field": "dsmmDataIntegrity"
      },
      "remove": {
        "field": "dsmmDataQualityAssessment"
      },
      "remove": {
        "field": "dsmmDataQualityAssurance"
      },
      "remove": {
        "field": "dsmmDataQualityControlMonitoring"
      },
      "remove": {
        "field": "dsmmPreservability"
      },
      "remove": {
        "field": "dsmmProductionSustainability"
      },
      "remove": {
        "field": "dsmmTransparencyTraceability"
      },
      "remove": {
        "field": "dsmmUsability"
      },
      "remove": {
        "field": "dsmmAverage"
      },
      "remove": {
        "field": "updateFrequency"
      },
      "remove": {
        "field": "presentationForm"
      },
      "remove": {
        "field": "services"
      },
      "rename": {
        "field": "keywordValues",
        "target_field": "keywords"
      }
    }
  ]
}