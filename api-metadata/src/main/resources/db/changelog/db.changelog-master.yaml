databaseChangeLog:
- changeSet:
    id: bnguyen001
    author: bnguyen
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: user_id
            type: BIGINT
        - column:
            name: username
            type: VARCHAR(255)
        - column:
            constraints:
              nullable: false
            name: password
            type: VARCHAR(255)
        tableName: user
- changeSet:
    id: bnguyen002
    author: bnguyen
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: role_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: role
            type: VARCHAR(255)
        tableName: role
- changeSet:
    id: bnguyen003
    author: bnguyen
    changes:
    - createTable:
        columns:
        - column:
            constraints:
                nullable: false
            name: user_id
            type: BIGINT
        - column:
            constraints:
                nullable: false
            name: role_id
            type: BIGINT
        tableName: user_roles
    - addForeignKeyConstraint:
        baseColumnNames: user_id
        baseTableName: user
        constraintName: fk_user
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: user_id
        referencedTableName: user
    - addForeignKeyConstraint:
        baseColumnNames: role_id
        baseTableName: role
        constraintName: fk_role
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: role_id
        referencedTableName: role
- changeSet:
    id: bnguyen004
    author: bnguyen
    changes:
    - sqlFile:
        relativeToChangelogFile: true
        dbms: mysql
        encoding: utf8
        endDelimiter: ;
        path: ../sql_files/seed_roles.sql
        relativeToChangelogFile: true
        splitStatements: true
        stripComments: true
- changeSet:
    id: bnguyen005
    author: bnguyen
    changes:
    - sqlFile:
        relativeToChangelogFile: true
        dbms: mysql
        encoding: utf8
        endDelimiter: ;
        path: ../sql_files/seed_users.sql
        relativeToChangelogFile: true
        splitStatements: true
        stripComments: true