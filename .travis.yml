language: java
jdk:
  - oraclejdk8
notifications:
  email: false
  slack:
    rooms:
      - secure: Ch12lKiGgb6P1YrVkzhrAJrj+P4Bh4qcoPEVwBjUapRO02GbR7hJefYMAcBMbKv2CPQoHZHYaGn+XZ2//mIUdAW4fqjrKtY+Ep4EkhpBg8E/Hpu2TfKShOujIlnJfc4hxrzRK2mg/Avv4mUHIeLxDgzWGdNix7LHMLRi/aqsEYGH1llsa6vqfxXUta0FT9GlpaIDKF053gt3meAT+WPwpsu08NRWlb/JeXMW+PbP92HtUFbI40gAtCN8WCMRaEB4tQpkOlvEKo95NkU/ZdYZuGJ4ftOIGQW9ucxNBxOx4Hvv3qzX2hbQtx2WMLb3IJ6UvX3ybGjxozE6KwJsQHBVgJQl/6CBC8oVf5bcLJIW1LHPnUOXH2L/T4sVfATiKGFvJ/XAOFgJ4ylhjoud6NX98MhQD1D4OhiHi5wA4XJiqr7STBNO/uIHOU4vnbpUya/LeDRuoPmDgajTzp4VB0TlKfD3a3t3pfdBbxSgkG/e+8MLQVQMTUvwVeej0zRKNB/rvo9SbD+65NFzdL2DEhCEQGZrzHI+eKXftzhx6eDqM6u1Nhcka7yTu0weyzjldivDjCXZQ0eo9NsSclUKf3WmndPgD71pD01Dj57phoLxvc1zR5AD+bZ4VzXNxt3zBYHlHB8FTVmskp8ePp9A0kldS+b/tVeAHQmIuaxED1INXj4=
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - .gradle
    - api/build
    - api/dist
    - client/.gradle
    - client/node_modules
    - client/build
env:
  secure: IKF2GWBnUkmpKYm1i8Iv+YzhP//tQcRQQvtf8myEnjgfH48BhBgMegKuXsJjNYAZ/81ooFBWbqj1+rvRCJ6JpWx4SJPK9SLBs+6w4+YCR09g/nJeCTdQE07/9cuV/si/KTjB0vU9aDIvHwOdCQAx+oVf8laBioUgToUlMkfxCW4QGyPeL5V+28HR56sGlpW9OOGd8A6oSIt4/1+O3ty6xavD/FC9LDlFaJOyJgIdR2U9FPNEZCozllhWZFHE4cSmFGpvKRrBKRiHR7+7OXcmzLBDkvCFH3tHUOC/AcE9xn+bLGoA0D4hdl8teXewIv2cKX+4g0Eo0hpNNksdMfm+ZsoRqhIglOMCLdrsLFNTSeNRQJx7Pj6MNEVUWJNryYhzFeCnkW0vRmoP+GV4sOfqID9HHM0Jhc8JOnLjvaEj+zRtOUOquR7lsYL/XutwDOymg576XKNBeNDiat9hedPMkH79Uc+rwyszfVISl/YKCMymLzOzYHT5Mgc/WVhwBuqN9D4EOMNcJpIGvUNGLr4v7D3x6Sb9XryTHQOxM93DYUfMpp0Ro04kLmqUMN+IL9IC9921XBThVz2KVY+ZiAVza+vCoThdIT4gqo0cGUtfgsdkEOg9cyNgIP0B+Fp8ClE7c41ssjOXu068ISuhh3OUmbtQqxwQXAZtxXggFhHAvE0= sIF620QAKyavaf1WK7jLIkQU6OVPKGFaIY5m4u5Ctfun6VGle3cks8JSwns5SmX2+msEGQlZ8qNDTO7DwEjbHgr4oQRxQRYeAM7HrtIJQCPCU2/rXbzIPztHw2+Np94Sou0348mBIaIRC3fxkeeusEsxTj3s2LvEPBoDUiriIYaCFp/xRuSGkz6sb5UibKoD6kJ9+dTNRtJggq8NqehKIlL3JgGlWOhCCLn/tkx2IGNaOWfD3prcKXdOdpnHaCoAvuDCPUUyycvL4R7nEoZwGg4g1RZkYFh4wbQanvfzOQyzKAODNGtiMqCY58UvhPeOHXk8hkyhLpbrQhB1FaCXS0x48zgoq4e4uE7PISLhmq5lAGZHbCWUiAmHOEqKXhqase3f+FlgiKSOWa2NzJA/AHTSSEbEdJoJV+ABS2RoBznTmV31GWBWpCZIBVv2qABqLTheIu6lGO/gekFa7ns7lNIkCU2j2l5Kh0yKkNR/T8cpZuXfAgrkT6wLpeTpvI6HhrTF8d9AhBpaOtu3E2Tz1L8QF3gy5p/w+l4eWaRuMecRTdR2IOJB8K3/iQwGNznrw1wzP09/3ClW/0setu0XoCh7HrP7lyXcqPjJowKmut/3x3lFt56DaDhlVqYFi8wzZT5ggDUPeLbUDCeaih43OPxVDMe9jgp6f7wItPKSpfI=
install: true
script:
  - ./gradlew build -Dscan
deploy:
  skip_cleanup: true
  provider: script
  script: ./gradlew artifactoryPublish
  on:
    repo: cires-ncei/onestop
